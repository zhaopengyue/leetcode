package leetcode.editor.cn.t_287_å¯»æ‰¾é‡å¤æ•°

import leetcode.editor.cn.utils.Utils._

//ç»™å®šä¸€ä¸ªåŒ…å« n + 1 ä¸ªæ•´æ•°çš„æ•°ç»„ nums ï¼Œå…¶æ•°å­—éƒ½åœ¨ [1, n] èŒƒå›´å†…ï¼ˆåŒ…æ‹¬ 1 å’Œ nï¼‰ï¼Œå¯çŸ¥è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•´æ•°ã€‚ 
//
// å‡è®¾ nums åªæœ‰ ä¸€ä¸ªé‡å¤çš„æ•´æ•° ï¼Œè¿”å› è¿™ä¸ªé‡å¤çš„æ•° ã€‚ 
//
// ä½ è®¾è®¡çš„è§£å†³æ–¹æ¡ˆå¿…é¡» ä¸ä¿®æ”¹ æ•°ç»„ nums ä¸”åªç”¨å¸¸é‡çº§ O(1) çš„é¢å¤–ç©ºé—´ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [1,3,4,2,2]
//è¾“å‡ºï¼š2
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [3,1,3,4,2]
//è¾“å‡ºï¼š3
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// 1 <= n <= 10âµ 
// nums.length == n + 1 
// 1 <= nums[i] <= n 
// nums ä¸­ åªæœ‰ä¸€ä¸ªæ•´æ•° å‡ºç° ä¸¤æ¬¡æˆ–å¤šæ¬¡ ï¼Œå…¶ä½™æ•´æ•°å‡åªå‡ºç° ä¸€æ¬¡ 
// 
//
// 
//
// è¿›é˜¶ï¼š 
//
// 
// å¦‚ä½•è¯æ˜ nums ä¸­è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•°å­—? 
// ä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªçº¿æ€§çº§æ—¶é—´å¤æ‚åº¦ O(n) çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ 
// 
//
// Related Topics ä½è¿ç®— æ•°ç»„ åŒæŒ‡é’ˆ äºŒåˆ†æŸ¥æ‰¾ ğŸ‘ 2284 ğŸ‘ 0

/**
 * è§£ç­”æˆåŠŸ:
	æ‰§è¡Œè€—æ—¶:756 ms,å‡»è´¥äº†100.00% çš„Scalaç”¨æˆ·
	å†…å­˜æ¶ˆè€—:81.7 MB,å‡»è´¥äº†100.00% çš„Scalaç”¨æˆ·
 */
//leetcode submit region begin(Prohibit modification and deletion)
object Solution {
    def findDuplicate(nums: Array[Int]): Int = {

        // å‚è€ƒå¾ªç¯é“¾è¡¨å»ºç«‹æ˜ å°„ i -> nums[i]
        var slow = 0
        var fast = 0
        // step1: å…ˆåˆ¤æ–­æ˜¯å¦æœ‰ç¯(æœ¬é¢˜ä¸€å®šæœ‰)
        // é•¿åº¦ä¸ºnçš„æ•°ç»„ä¸­æœ€å¤§å…ƒç´ å€¼ä¸ºn-1,æ•…ä¸‹è¿°æ•°ç»„ä¸ä¼šè¶Šç•Œ
        /*
         ä¸ºå•¥i->num[i]ä¸ä¼šäº§ç”Ÿè‡ªå¾ªç¯ï¼Ÿ
         å¦‚æœxåœ¨ç¬¬xä¸Šçš„è¯ï¼ŒæŒ‡é’ˆæ°¸è¿œä¸ä¼šè®¿é—®åˆ°å®ƒ.( åªæœ‰å®ƒè‡ªå·±èƒ½è¯»åˆ°è‡ªå·±), åƒ [3, 1, 4, 2, 2]è¿™é‡Œé¢çš„1ï¼Œ
         å¿«æŒ‡é’ˆçš„èµ°æ³•ä¸ºfast = nums[nums[fast]], æ…¢æŒ‡é’ˆä¸º slow = nums[slow], å¿«æ…¢æŒ‡é’ˆåœ¨é‡åˆ°ç¬¬ä¸€ä¸ª3çš„æ—¶å€™ï¼Œå°±ä¼šè·‘åˆ°ç¬¬ä¸‰ä¸ªæ•°å­—(2)ä¸Šå»äº†ï¼Œ
         1æ˜¯ä¸ä¼šè¢«è®¿é—®åˆ°çš„
         */
        do {
            slow = nums(slow)
            fast = nums(nums(fast))
        } while (nums(slow) != nums(fast))

        var p = 0

        while (nums(slow) != nums(p)) {
            slow = nums(slow)
            p = nums(p)
        }

        nums(p)
    }
}
//leetcode submit region end(Prohibit modification and deletion)
